---
'$title': Монетизация AMP-страницы с помощью рекламы
$order: 0
description: В этом руководстве представлены инструкции и передовые методы показа рекламы на ваших AMP-страницах. Итак, чтобы отображать рекламу в AMP-контексте, вам нужно добавить на свою AMP-страницу...
formats:
  - websites
---

В этом руководстве представлены инструкции и передовые методы показа рекламы на ваших AMP-страницах.

## Добавление рекламы на вашу страницу

Если вы хотите показывать рекламу на традиционных HTML-страницах (без AMP), в них следует включить специальный сниппет кода JavaScript, который будет загружать рекламу из вашей рекламной сети. Из соображений производительности и безопасности мы не разрешаем включать сторонний JavaScript на AMP-страницы. Поэтому, чтобы отображать рекламу в AMP-контексте, вам нужно добавить на свою AMP-страницу специальный компонент [`amp-ad`](../../../../documentation/components/reference/amp-ad.md).

[tip type="tip"] **СОВЕТ.** Посмотреть, как добавить тег amp-ad на AMP-страницу, можно в [демонстрации из курса AMP By Example](../../../../documentation/components/reference/amp-ad.md). [/tip]

Давайте рассмотрим, какие действия надо выполнить, чтобы добавить компонент, который позволит вам отображать рекламу на своей AMP-странице.

### Шаг 1: включение скрипта {code0}amp-analytics{/code0}

Компонент [`amp-ad`](../../../../documentation/components/reference/amp-ad.md) — это настраиваемое рекламное расширение для библиотеки AMP. В основе [`amp-ad`](../../../../documentation/components/reference/amp-ad.md) лежит специальный код JavaScript, который тщательно спроектирован под оптимальную производительность. Для запуска компонента [`amp-ad`](../../../../documentation/components/reference/amp-ad.md) необходимо добавить нужный этому компоненту код JavaScript в раздел `head` вашей AMP-страницы:

```html
<script
  async
  custom-element="amp-ad"
  src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"
></script>
```

### Шаг 2. Добавьте тег amp-ad на свою AMP-страницу

Более 100 [рекламных серверов и сетей](ads_vendors.md) предлагают встроенную интеграцию с AMP. Чтобы добавить рекламу из определенной рекламной сети, добавьте тег [`amp-ad`](../../../../documentation/components/reference/amp-ad.md) и укажите сеть в атрибуте `type`.

В этом примере мы добавляем рекламное место для показа рекламы из сети a9:

```html
<amp-ad type="a9"> </amp-ad>
```

### Шаг 3. Укажите размер рекламного блока

Добавьте в тег <a><code data-md-type="codespan">amp-ad</code></a> атрибуты <code>width</code> и `height`. Это определит размер данной рекламы на вашей AMP-странице:

```html
<amp-ad type="a9"> width="300" height="250" </amp-ad>
```

### Шаг 4. Настройте параметры рекламной сети

В каждой сети имеются определенные атрибуты данных, необходимые для показа рекламы. Ознакомьтесь с документацией рекламной сети по использованию [`amp-ad`](../../../../documentation/components/reference/amp-ad.md) и добавьте необходимые атрибуты. В приведенном ниже примере для сети a9 требуются дополнительные параметры для указания размера рекламы и еще кое-какие сведения:

```html
<amp-ad
  type="a9"
  width="300"
  height="250"
  data-aax_size="300x250"
  data-aax_pubname="test123"
  data-aax_src="302"
>
</amp-ad>
```

### Шаг 5. Укажите заполнитель (необязательно)

Некоторые рекламные сети позволяют использовать заполнитель, который будет отображен до тех пор, пока реклама не станет доступна для просмотра. Это улучшает визуальное восприятие страницы, предотвращая появление «прорех» при ее загрузке. Чтобы указать заполнитель, добавьте дочерний элемент с атрибутом `placeholder`. Дополнительные сведения см. в разделе [Заполнители и резервные элементы](../../../../documentation/guides-and-tutorials/develop/style_and_layout/placeholders.md).

```html
<amp-ad
  type="a9"
  width="300"
  height="250"
  data-aax_size="300x250"
  data-aax_pubname="test123"
  data-aax_src="302"
>
  <amp-img placeholder src="placeholder-image.jpg"></amp-img>
</amp-ad>
```

### Шаг 6. Укажите резервный элемент (необязательно)

Некоторые рекламные сети позволяют использовать резервный элемент, который будет показан, если реклама недоступна. Чтобы указать резервный элемент, добавьте дочерний элемент с атрибутом `fallback`. Дополнительные сведения см. в разделе [Заполнители и резервные элементы](../../../../documentation/guides-and-tutorials/develop/style_and_layout/placeholders.md).

```html
<amp-ad
  type="a9"
  width="300"
  height="250"
  data-aax_size="300x250"
  data-aax_pubname="test123"
  data-aax_src="302"
>
  <amp-img fallback src="fallback-image.jpg"></amp-img>
</amp-ad>
```

Поздравляем — вы начали показ рекламы на своей AMP-странице!

## Показ рекламы AMPHTML, продаваемой напрямую

Компонент [`amp-ad`](../../../../documentation/components/reference/amp-ad.md) показывает рекламу из указанной вами сети. Эта реклама может быть как стандартной рекламой HTML, так и рекламой AMPHTML, если рекламная сеть ее поддерживает. Чтобы показывать напрямую продаваемую рекламу в формате рекламы AMPHTML, создайте рекламу в соответствии с требованиями [спецификации AMPHTML](../../../../documentation/guides-and-tutorials/learn/a4a_spec.md) и используйте [рекламный сервер, поддерживающий рекламу AMPHTML](https://github.com/ampproject/amphtml/blob/main/ads/google/a4a/docs/a4a-readme.md#publishers).

## Дополнение данных таргетинга в составе запросов рекламы

Входящая в состав механизма Fast Fetch функция Real-Time Config (RTC) позволяет издателям дополнять запросы рекламы собственными и сторонними данными таргетинга, которые извлекаются во время выполнения запроса. Для каждого отдельного рекламного места RTC разрешает выполнить до 5 обращений к серверам таргетинга, результаты которых добавляются к запросу рекламы. Чтобы вы могли использовать RTC в своей рекламе, используемая вами рекламная сеть должна поддерживать RTC и Fast Fetch.

Подробнее об RTC можно узнать в этом видео на YouTube:

[video src='https://www.youtube.com/watch?v=mvAmvKiWPfA' caption='Watch Effective AMP Monetization with Header Bidding.']

Дополнительную информацию можно также получить из следующих ресурсов, посвященных RTC:

- [Руководство по внедрению AMP RTC для издателей](https://github.com/ampproject/amphtml/blob/main/extensions/amp-a4a/rtc-publisher-implementation-guide.md)
- [Технология AMP Real Time Config](https://github.com/ampproject/amphtml/blob/main/extensions/amp-a4a/rtc-documentation.md)

## Рекомендуемые методы

Вот несколько советов, как повысить эффективность рекламы на ваших AMP-страницах:

### Размещение и элементы управления: оптимизируйте места размещения рекламы

- **Размещайте одинаковое число рекламных объявлений** как на AMP-страницах, так и на традиционных (не-AMP) страницах, чтобы получать максимальную выручку со страницы.
- **Place the first ad immediately below the first viewport** ("below the fold") to provide an optimal user experience.
- Если вы не используете расширенный CSS или медиа-запросы, **убедитесь, что ваши рекламные блоки размещены по центру страницы**, чтобы пользователям было удобно работать с мобильным сайтом.
- Реализуйте [мультиразмерные запросы рекламы](https://github.com/ampproject/amphtml/blob/main/ads/README.md#support-for-multi-size-ad-requests) в своем AMP-инвентаре, чтобы усилить конкуренцию на аукционе рекламы и увеличить свой доход.

### Спрос и цены: получайте правильную цену за свою рекламу

- **Продавайте рекламные блоки на своих AMP-страницах по всем каналам продаж**, включая прямые и косвенные, чтобы добиться максимальной конкуренции за ваш инвентарь на AMP-страницах.
- **Устанавливайте за рекламный инвентарь на AMP-страницах те же** расценки, что и за ваш инвентарь на не-AMP-страницах. Следите за эффективностью рекламы и соответствующим образом корректируйте цены.
- **Убедитесь, что соревнование за рекламный инвентарь на ваших AMP-страницах идет по всем каналам спроса**, чтобы повышать конкуренцию.

### Типы рекламы: показывайте самую лучшую рекламу

- **Избегайте «тяжелых» креативов** в соответствии с [рекомендациями IAB](http://www.iab.com/wp-content/uploads/2015/11/IAB_Display_Mobile_Creative_Guidelines_HTML5_2015.pdf).
- **Избегайте межстраничных** объявлений или других форматов рекламы, которые вызывают перекомпоновку (reflow) контента при загрузке рекламы.
- **Оптимизируйте видимость**, устанавливая атрибуту data-loading-strategy значение prefer-viewability-over-views.
- **Размещайте рекламу в своем видеоконтенте** с помощью [поддерживаемых проигрывателей](../../../../documentation/components/index.html#media) или [`amp-iframe`](../../../../documentation/components/reference/amp-iframe.md), чтобы получать доход от всех типов контента.
- **Внедряйте нативную рекламу** для создания конкуренции с медийной рекламой, используя мультиразмерные запросы рекламы, — тем самым вы будете повышать спрос на рекламу и одновременно предоставлять своим читателям наилучший опыт взаимодействия.

### Инновации: предлагайте наиболее привлекательные рекламные продукты

- **Размещайте рекламу на дополнительных AMP-страницах,** чтобы получать дополнительный доход:
  - [Реклама в карусели](../../../../documentation/examples/documentation/Carousel_Ad.html)
  - [Реклама в лайтбоксе](../../../../documentation/examples/documentation/Lightbox_Ad.html)
  - ... и [другое](../../../../documentation/examples/index.html)
- **Внедряйте новые форматы для напрямую продаваемой рекламы**, чтобы снабдить вашу команду продаж высокоэффективными инновационными рекламными продуктами:
  - [Прикрепленная реклама](../../../../documentation/examples/documentation/amp-sticky-ad.html)
  - [Ковер-самолет](../../../../documentation/examples/documentation/amp-fx-flying-carpet.html)

## Дополнительные ресурсы

- [Шаблоны рекламы AMPHTML](../../../../documentation/examples/index.html)
- [Демонстрация: как добавить `amp-ad` на AMP-страницу](../../../../documentation/components/reference/amp-ad.md)
